<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraPerf - Terraform Code Analysis</title>
    <meta name="description" content="TerraPerf analyzes your Terraform code to make it secure, efficient, and maintainable. Coming soon.">
    <meta name="author" content="TerraPerf">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="TerraPerf - Terraform Code Analysis">
    <meta property="og:description" content="Analyze your Terraform code for security, efficiency, and maintainability.">
    <meta property="og:url" content="https://terraperf.com">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TerraPerf - Terraform Code Analysis">
    <meta name="twitter:description" content="Analyze your Terraform code for security, efficiency, and maintainability.">

    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#0891b2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle cx="32" cy="32" r="30" fill="url(#grad)"/>
                    <text x="32" y="46" font-family="Inter, sans-serif" font-size="38" font-weight="bold" fill="white" text-anchor="middle">T</text>
                </svg>
                <span class="logo-text">TerraPerf</span>
            </div>
        </header>

        <!-- Hero Section -->
        <main class="hero">
            <div class="badge">Coming Soon</div>
            <h1 class="hero-title">
                Better Terraform Code,<br>
                <span class="gradient-text">Delivered</span>
            </h1>
            <p class="hero-description">
                TerraPerf analyzes your Terraform infrastructure code to help you build
                <strong>secure</strong>, <strong>efficient</strong>, and <strong>maintainable</strong>
                cloud infrastructure.
            </p>

            <!-- Waiting List Form -->
            <div class="waitlist-section">
                <h2 class="waitlist-title">Join the Waiting List</h2>
                <p class="waitlist-description">Be the first to know when TerraPerf launches.</p>

                <form id="waitlist-form" class="waitlist-form">
                    <div class="form-group">
                        <input
                            type="email"
                            id="email"
                            name="email"
                            placeholder="Enter your email address"
                            required
                            class="email-input"
                        >
                        <button type="submit" class="submit-btn" id="submit-btn">
                            <span class="btn-text">Join Waitlist</span>
                            <span class="btn-loading" style="display: none;">
                                <svg class="spinner" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="31.4 31.4" stroke-linecap="round"/>
                                </svg>
                            </span>
                        </button>
                    </div>

                    <div class="consent-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="consent" name="consent" required>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">
                                I agree to receive marketing communications from TerraPerf and Sofrasorb.
                                I have read and accept the <a href="/privacy.html" target="_blank">Privacy Policy</a>.
                            </span>
                        </label>
                    </div>

                    <div id="form-message" class="form-message" style="display: none;"></div>
                </form>
            </div>

            <!-- Features -->
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/>
                            <path d="m9 12 2 2 4-4"/>
                        </svg>
                    </div>
                    <h3>Security</h3>
                    <p>Detect vulnerabilities, exposed secrets, and misconfigurations before they reach production.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M13 2 3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <h3>Efficiency</h3>
                    <p>Optimize resource configurations and identify cost-saving opportunities in your infrastructure.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
                            <path d="M19 3v4"/>
                            <path d="M21 5h-4"/>
                        </svg>
                    </div>
                    <h3>Maintainability</h3>
                    <p>Ensure clean code structure, proper documentation, and consistent naming conventions.</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2026 TerraPerf by <a href="https://www.societe.com/societe/sofrasorb-942184631.html" target="_blank" rel="noopener">Sofrasorb</a>. All rights reserved.</p>
            <p><a href="/privacy.html">Privacy Policy</a></p>
        </footer>
    </div>

    <!-- Background decoration -->
    <div class="bg-gradient"></div>

    <!-- Waitlist Form Script -->
    <script>
        (function() {
            const form = document.getElementById('waitlist-form');
            const submitBtn = document.getElementById('submit-btn');
            const btnText = submitBtn.querySelector('.btn-text');
            const btnLoading = submitBtn.querySelector('.btn-loading');
            const messageDiv = document.getElementById('form-message');

            // API endpoint - will be replaced with actual endpoint after deployment
            const API_ENDPOINT = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
                ? 'http://localhost:8001/waitlist'
                : 'https://api.terraperf.com/waitlist';

            function showMessage(message, isError = false) {
                messageDiv.textContent = message;
                messageDiv.className = 'form-message ' + (isError ? 'error' : 'success');
                messageDiv.style.display = 'block';
            }

            function setLoading(loading) {
                submitBtn.disabled = loading;
                btnText.style.display = loading ? 'none' : 'inline';
                btnLoading.style.display = loading ? 'inline-flex' : 'none';
            }

            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                const email = document.getElementById('email').value.trim();
                const consent = document.getElementById('consent').checked;

                if (!email) {
                    showMessage('Please enter your email address.', true);
                    return;
                }

                if (!consent) {
                    showMessage('Please accept the privacy policy to continue.', true);
                    return;
                }

                setLoading(true);
                messageDiv.style.display = 'none';

                try {
                    const response = await fetch(API_ENDPOINT, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            email: email,
                            consent: consent,
                            consent_timestamp: new Date().toISOString(),
                            source: 'landing_page'
                        })
                    });

                    const data = await response.json();

                    if (response.ok) {
                        showMessage('Thank you! You\'ve been added to our waiting list.', false);
                        form.reset();
                    } else {
                        showMessage(data.detail || 'Something went wrong. Please try again.', true);
                    }
                } catch (error) {
                    console.error('Waitlist error:', error);
                    showMessage('Unable to connect. Please try again later.', true);
                } finally {
                    setLoading(false);
                }
            });
        })();
    </script>
</body>
</html>
